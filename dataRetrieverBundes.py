import requests
import json
import time
import math
teamIDs=[3,5,10,721,28,2,11,17,4,19,12,16,36,1,44,18,15,55]
matchRecs={30721: [1, 4, -2, 2, 2, -1, 0, -1], 30018: [3, 4, 1, 0, 4, 1, 1, 1], 30055: [4, 4], 30005: [4, 4, -4, 1, -4, 0, -1, -2], 30044: [4, 4], 30015: [4, 4, 3, -1, 1, -1, 1, 0], 30001: [4, 4, 1, -1, 0, -1, 4, 3], 30011: [4, 4, 0, 0, -2, 2, 0, -1], 30017: [4, 4, -1, 0, -1, 1, 2, -1], 30002: [4, 4, -3, 2, 0, 2, 3, 0], 30028: [4, 4, 5, 0, 0, 0, -1, 0], 30012: [4, 4, 0, 1, 0, 0], 30004: [4, 4, -1, -2, -1, 3, 1, -2], 30010: [4, 4, 2, 0, 2, 2, 0, 3], 30019: [4, 4, -4, 2, -3, 2, -1, 2], 30036: [4, 4, 2, -3, 1, 0], 30016: [4, 4, -1, -1, 3, 4, 2, 0], 50012: [4, 1, 5, 1, 0, 2], 50016: [2, 1, -1, 2, -1, 1, 1, 3], 50018: [1, 1, 0, -1, 0, -1, -1, 6], 50003: [1, 1, 4, -1, 4, 0, 1, 2], 50066: [1, 1], 50036: [1, 1, 7, 3, 7, -2], 50721: [1, 1, 0, -2, 3, 1, 0, 1], 51876: [1, 1], 50017: [1, 1, 5, 1, 1, 3, 1, 0], 50015: [1, 1, 4, -2, 1, -2, 3, -1], 50610: [1, 1], 50055: [1, 1], 50004: [1, 1, 0, 2, 1, 2, 1, 2], 50044: [1, 1], 50001: [1, 1, 0, 1, 1, 4, 1, 4], 50028: [1, 1, 0, 3, 3, 4, 0, 0], 50019: [1, 1, 5, 0, -1, 1, 5, -1], 50010: [1, 1, 0, 1, 5, 0, 2, 4], 50011: [1, 1, 2, 2, 4, 0, 1, 1], 50002: [1, 1, 2, 0, 4, 0, -3, 3], 100036: [5, 5, 3, 1, 0, 0], 100721: [-4, 5, 0, -1, -4, -2, -1, -2], 100017: [5, 5, -1, -1, -1, -2, -1, -1], 100015: [5, 5, 0, 3, 1, 0, 3, 2], 100055: [5, 5], 100001: [5, 5, 0, 3, -1, 1, 0, 1], 100011: [5, 5, -1, -1, 2, 0, -1, -2], 100028: [5, 5, -1, -3, 0, 0, 0, -1], 100002: [5, 5, 0, 0, 2, -1, 0, 2], 100044: [5, 5], 100004: [5, 5, -5, 0, -1, -2, 4, -1], 100019: [5, 5, -2, 0, 0, -1, 0, 0], 100012: [5, 5, 0, -2, 1, 1], 100003: [5, 5, -2, 0, -2, -2, 0, -3], 100005: [5, 5, 0, -1, -5, 0, -2, -4], 100016: [5, 5, 1, 0, -3, 1, 3, 1], 100018: [5, 5, -2, 1, 0, 1, 0, 1], 7210003: [-1, 3, 2, -2, -2, 1, 0, 1], 7210010: [4, 3, 0, 1, 4, 2, 1, 2], 7210028: [3, 3, -1, -1, -1, -1, 1, -1], 7210016: [3, 3, 0, 1, 0, 4, 2, 1], 7211871: [3, 3], 7210018: [3, 3, -3, 3, 3, -2, -1, 1], 7210005: [3, 3, 0, 2, -3, -1, 0, -1], 7210065: [3, 3, 0, -7, -3, 1], 7210036: [3, 3, 4, -1, 3, 1], 7210055: [3, 3], 7217283: [3, 3], 7210001: [3, 3, 0, 0, 0, 2, 0, -1], 7210015: [3, 3, 0, -3, -1, 3, 2, -1], 7210017: [3, 3, 2, 1, 0, 0, 3, 3], 7210011: [3, 3, 2, 3, -1, 2, 0, 0], 7210044: [3, 3], 7210004: [3, 3, 3, -1, 1, 3, -2, -1], 7210002: [3, 3, 2, 1, -2, 3, 1, 0], 7210012: [3, 3, 1, 1, 2, 3], 7210019: [3, 3, -4, 1, 0, 0, 0, 0], 280015: [3, -3, 0, 1, 1, 2, 4, -1], 280055: [3, -3], 280721: [-3, -3, 1, 1, 1, 1, -1, 1], 280011: [-3, -3, 2, 0, 2, -1, 0, -3], 280086: [-3, -3], 280002: [-3, -3, 2, -2, 0, 1, 2, 0], 280044: [-3, -3], 285613: [-3, -3], 280004: [-3, -3, 2, -1, -2, -3, 1, -2], 280010: [-3, -3, 1, 3, 0, 0, 0, 1], 280113: [-3, -3], 280012: [-3, -3, 1, 1, 2, 2], 280019: [-3, -3, -2, 2, -1, 2, 0, -3], 280003: [-3, -3, -5, 0, 0, 0, 1, 0], 280016: [-3, -3, 0, -1, 0, -2, -2, -1], 280005: [-3, -3, 0, -3, -3, -4, 0, 0], 280018: [-3, -3, 1, 1, 1, 1, 0, 0], 280036: [-3, -3, -1, 0, 1, 1], 280001: [-3, -3, 1, 0, 0, 1, 1, 1], 280017: [-3, -3, -3, 2, 0, 3, 0, 1], 20017: [-1, 2, 0, -1, 1, -1, -2, 0], 20044: [1, 2], 20011: [2, 2, -1, -1, 2, 1, -1, 1], 20001: [2, 2, 0, -2, 5, 1, 1, 3], 20028: [2, 2, -2, 2, 0, -1, -2, 0], 20004: [2, 2, -1, -1, -1, -1, -1, 0], 20012: [2, 2, -1, 1, 0, 4], 20019: [2, 2, -2, 2, 1, 0, -1, -2], 20010: [2, 2, 0, 0, -2, 1, 0, -2], 20003: [2, 2, 3, -2, 0, -2, -3, 0], 20016: [2, 2, 1, -1, 4, 2, 2, -1], 20015: [2, 2, 3, -1, -2, -2, 0, -1], 20018: [2, 2, -2, -3, 0, -4, 1, 1], 20036: [2, 2, 1, -3, -2, -1], 20721: [2, 2, -2, -1, 2, -3, -1, 0], 20055: [2, 2], 20005: [2, 2, -2, 0, -4, 0, 3, -3], 110044: [2, -2], 110001: [1, -2, -2, 2, -1, 1, 0, 1], 110002: [-2, -2, 1, 1, -2, -1, 1, -1], 110028: [-2, -2, -2, 0, -2, 1, 0, 3], 110004: [-2, -2, 2, -6, -2, -5, -2, -2], 110019: [-2, -2, 1, 0, 0, 2, 1, -1], 110010: [-2, -2, 1, 1, -2, 0, 1, 2], 110003: [-2, -2, 0, 0, 2, -2, 0, 1], 110016: [-2, -2, 0, 0, 1, -3, 0, 2], 110012: [-2, -2, 0, -1, 2, 1], 110018: [-2, -2, 0, -2, -2, 0, 0, 0], 110721: [-2, -2, -2, -3, 1, -2, 0, 0], 110036: [-2, -2, 4, 4, 1, -1], 110017: [-2, -2, 6, -2, -2, -1, 0, 3], 110055: [-2, -2], 110005: [-2, -2, -2, -2, -4, 0, -1, -1], 110015: [-2, -2, 3, 3, -3, 5, 2, -1], 170002: [1, -5, 0, 1, -1, 1, 2, 0], 170012: [1, -5, 2, 1, 0, 0], 170010: [-5, -5, 1, 1, 1, 2, 1, 1], 170004: [-5, -5, -2, -4, 1, -4, -4, 1], 170019: [-5, -5, 0, -1, -2, 1, 0, -2], 170016: [-5, -5, 4, 2, 3, 1, 0, 2], 170005: [-5, -5, -5, -1, -1, -3, -1, 0], 170036: [-5, -5, 1, 2, -1, 3], 170003: [-5, -5, 1, 0, 1, -1, -2, 1], 170018: [-5, -5, 0, 0, 6, 0, 0, -1], 170721: [-5, -5, -2, -1, 0, 0, -3, -3], 170055: [-5, -5], 170015: [-5, -5, 1, 0, 0, 0, -2, -1], 170011: [-5, -5, -6, 2, 2, 1, 0, -3], 170001: [-5, -5, 2, 1, 0, -1, 5, 3], 170044: [-5, -5], 170028: [-5, -5, 3, -2, 0, -3, 0, -1], 40001: [1, 0, -1, 5, 2, 0, -1, 0], 40036: [0, 0, 3, 0, 0, -1], 40044: [0, 0], 40017: [0, 0, 2, 4, -1, 4, 4, -1], 40524: [0, 0], 40011: [0, 0, -2, 6, 2, 5, 2, 2], 40002: [0, 0, 1, 1, 1, 1, 1, 0], 40098: [0, 0], 40028: [0, 0, -2, 1, 2, 3, -1, 2], 40012: [0, 0, -1, 2, 1, 3], 40067: [0, 0], 40019: [0, 0, 1, 4, 3, 1, 0, -1], 40005: [0, 0, 0, -2, -1, -2, -1, -2], 40010: [0, 0, 5, 0, 1, 2, -4, 1], 40018: [0, 0, -2, 3, -1, 6, 3, -2], 40003: [0, 0, 1, 2, 1, -3, -1, 2], 40721: [0, 0, -3, 1, -1, -3, 2, 1], 40016: [0, 0, 1, 3, 1, 0, -2, 2], 40015: [0, 0, 1, 0, 2, 1, 0, 2], 40055: [0, 0], 190055: [1, 0], 190015: [0, 0, 0, 3, 1, 0, 2, 0], 190001: [0, 0, 0, -3, 0, -1, 0, 2], 190036: [0, 0, -3, 0, -2, 1], 190017: [0, 0, 0, 1, 2, -1, 0, 2], 190011: [0, 0, -1, 0, 0, -2, -1, 1], 190044: [0, 0], 190002: [0, 0, 2, -2, -1, 0, 1, 2], 190004: [0, 0, -1, -4, -3, -1, 0, 1], 190028: [0, 0, 2, -2, 1, -2, 0, 3], 190012: [0, 0, 1, 2, 0, -1], 190010: [0, 0, 2, 0, 0, 1, 0, 0], 190016: [0, 0, 1, 0, 0, 0, 2, 2], 190005: [0, 0, -5, 0, 1, -1, -5, 1], 190003: [0, 0, 4, -2, 3, -2, 1, -2], 190018: [0, 0, 2, 0, 1, 0, 0, -4], 190721: [0, 0, 4, -1, 0, 0, 0, 0], 120005: [-4, 4, -5, -1, 0, -2], 120017: [-1, 4, -2, -1, 0, 0], 120015: [4, 4, -2, 0, 1, -1], 120044: [4, 4], 120001: [4, 4, -6, 0, 0, 0], 120055: [4, 4], 120002: [4, 4, 1, -1, 0, -4], 120004: [4, 4, 1, -2, -1, -3], 120028: [4, 4, -1, -1, -2, -2], 120011: [4, 4, 0, 1, -2, -1], 120019: [4, 4, -1, -2, 0, 1], 120003: [4, 4, 0, -1, 0, 0], 120010: [4, 4, 0, 2, -1, -1], 120016: [4, 4, -1, -1, 2, -2], 120018: [4, 4, 4, 0, -1, -2], 120721: [4, 4, -1, -1, -2, -3], 120036: [4, 4, 2, 3], 160018: [0, 0, 1, -2, 1, -1, 0, 2], 160005: [-2, 0, 1, -2, 1, -1, -1, -3], 160036: [0, 0, -1, -1, -1, 2], 160721: [0, 0, 0, -1, 0, -4, -2, -1], 160015: [0, 0, -1, -2, -3, 1, 2, 1], 160017: [0, 0, -4, -2, -3, -1, 0, -2], 160055: [0, 0], 160044: [0, 0], 160011: [0, 0, 0, 0, -1, 3, 0, -2], 160001: [0, 0, -1, -2, 2, -3, 1, -1], 160002: [0, 0, -1, 1, -4, -2, -2, 1], 160028: [0, 0, 0, 1, 0, 2, 2, 1], 160019: [0, 0, -1, 0, 0, 0, -2, -2], 160012: [0, 0, 1, 1, -2, 2], 160004: [0, 0, -1, -3, -1, 0, 2, -2], 160010: [0, 0, -1, 0, 3, -1, -3, -1], 160003: [0, 0, 1, 1, -3, -4, -2, 0], 360010: [-5, 0, -3, -1, 0, 0], 360004: [0, 0, -3, 0, 0, 1], 360016: [0, 0, 1, 1, 1, -2], 360019: [0, 0, 3, 0, 2, -1], 360005: [0, 0, -7, -3, -7, 2], 360018: [0, 0, 1, -2, -1, -2], 360721: [0, 0, -4, 1, -3, -1], 360017: [0, 0, -1, -2, 1, -3], 360015: [0, 0, -1, -3, 2, -1], 360055: [0, 0], 360001: [0, 0, 0, 2, -1, 0], 360044: [0, 0], 360011: [0, 0, -4, -4, -1, 1], 360002: [0, 0, -1, 3, 2, 1], 360028: [0, 0, 1, 0, -1, -1], 360003: [0, 0, -2, 3, -1, 0], 360012: [0, 0, -2, -3], 10004: [-1, 0, 1, -5, -2, 0, 1, 0], 10011: [-1, 0, 2, -2, 1, -1, 0, -1], 10019: [0, 0, 0, 3, 0, 1, 0, -2], 10002: [0, 0, 0, 2, -5, -1, -1, -3], 10012: [0, 0, 6, 0, 0, 0], 10010: [0, 0, 0, -3, 1, -1, 0, -1], 10003: [0, 0, -1, 1, 0, 1, -4, -3], 10018: [0, 0, -3, 0, 3, 2, -2, 1], 10721: [0, 0, 0, 0, 0, -2, 0, 1], 10016: [0, 0, 1, 2, -2, 3, -1, 1], 10036: [0, 0, 0, -2, 1, 0], 10005: [0, 0, 0, -1, -1, -4, -1, -4], 10055: [0, 0], 10015: [0, 0, -5, 0, 0, 1, 1, -1], 10017: [0, 0, -2, -1, 0, 1, -5, -3], 10028: [0, 0, -1, 0, 0, -1, -1, -1], 10044: [0, 0], 440011: [-2, 0], 440002: [-1, 0], 440004: [0, 0], 440012: [0, 0], 440003: [0, 0], 440028: [0, 0], 440019: [0, 0], 440016: [0, 0], 440018: [0, 0], 440010: [0, 0], 440005: [0, 0], 440036: [0, 0], 440721: [0, 0], 440055: [0, 0], 440015: [0, 0], 440017: [0, 0], 440001: [0, 0], 180016: [0, -1, -1, 2, -1, 1, 0, -2], 180003: [-3, -1, -1, 0, -4, -1, -1, -1], 180005: [-1, -1, 0, 1, 0, 1, 1, -6], 180055: [-1, -1], 180721: [-1, -1, 3, -3, -3, 2, 1, -1], 180036: [-1, -1, -1, 2, 1, 2], 180015: [-1, -1, -1, -4, 0, 0, 1, -1], 180001: [-1, -1, 3, 0, -3, -2, 2, -1], 180044: [-1, -1], 180017: [-1, -1, 0, 0, -6, 0, 0, 1], 180011: [-1, -1, 0, 2, 2, 0, 0, 0], 180004: [-1, -1, 2, -3, 1, -6, -3, 2], 180002: [-1, -1, 2, 3, 0, 4, -1, -1], 180028: [-1, -1, -1, -1, -1, -1, 0, 0], 180012: [-1, -1, -4, 0, 1, 2], 180019: [-1, -1, -2, 0, -1, 0, 0, 4], 180010: [-1, -1, 2, -1, 0, -1, 0, -1], 150028: [-3, -4, 0, -1, -1, -2, -4, 1], 150019: [0, -4, 0, -3, -1, 0, -2, 0], 150012: [-4, -4, 2, 0, -1, 1], 150010: [-4, -4, 0, -3, -1, 0, -3, -2], 150016: [-4, -4, 1, 2, 3, -1, -2, -1], 150003: [-4, -4, -3, 1, -1, 1, -1, 0], 150018: [-4, -4, 1, 4, 0, 0, -1, 1], 150005: [-4, -4, -4, 2, -1, 2, -3, 1], 150036: [-4, -4, 1, 3, -2, 1], 150721: [-4, -4, 0, 3, 1, -3, -2, 1], 150055: [-4, -4], 150002: [-4, -4, -3, 1, 2, 2, 0, 1], 150017: [-4, -4, -1, 0, 0, 0, 2, 1], 150001: [-4, -4, 5, 0, 0, -1, -1, 1], 150044: [-4, -4], 150004: [-4, -4, -1, 0, -2, -1, 0, -2], 150011: [-4, -4, -3, -3, 3, -5, -2, 1], 550019: [-1, -4], 550028: [-3, -4], 550003: [-4, -4], 550018: [-4, -4], 550010: [-4, -4], 550012: [-4, -4], 550016: [-4, -4], 550721: [-4, -4], 550005: [-4, -4], 550036: [-4, -4], 550015: [-4, -4], 550017: [-4, -4], 550001: [-4, -4], 550044: [-4, -4], 550011: [-4, -4], 550002: [-4, -4], 550004: [-4, -4], 30851: [-1, 0], 30009: [0, 3, 0, 1, 0, -3], 30078: [2, 0], 30503: [-2, -3], 30006: [4, 3, 3, 1], 50108: [2, 2], 50081: [2, 3, 3, 3], 51881: [5, 2], 50009: [1, 2, 5, 3, 1, 1], 50006: [2, 6, 8, 4], 50524: [1, 2, -1, 1], 50065: [-3, 0], 100006: [0, -1, 0, 4], 100009: [1, -1, 0, -2, 2, 0], 7211887: [-3, 4], 7210086: [-2, 1], 7210732: [2, 2], 7210009: [1, 1, 6, 5, 1, 3], 7210006: [5, 2, 4, 3], 280009: [2, 2, 2, 3, -2, 0], 280006: [5, 0, 0, 0], 20009: [0, 2, 2, -3, 3, 1], 20006: [3, 2, -4, 2], 110006: [0, 0, 2, 5], 110009: [5, -1, 1, 0, 0, 2], 170009: [0, 0, 1, 3, 3, -3], 170006: [2, 4, 2, 4], 40009: [1, 3, -1, 1, 3, 2], 41876: [3, 0], 40065: [-1, 0, -1, -1], 40006: [1, 0, 3, 4], 40559: [3, 0, 1, 0], 40061: [1, -2], 190009: [0, 3, -1, 3, 2, 2], 190498: [-3, 1], 190516: [1, 1], 190073: [0, -1], 190006: [3, 0, 2, -1], 190113: [-2, -3], 120009: [1, 2, -3, 3], 120006: [1, -1, 2, 0], 160009: [-2, -2, 0, -1, -3, -1], 160006: [1, 0, 0, -1], 360006: [-2, -2], 360009: [2, 0, -2, 0], 10006: [2, 0, 1, 1], 10009: [-2, 3, 2, 2, 0, 0], 180006: [0, 0, 3, 3], 180009: [1, -3, -1, 2, 0, 0], 150009: [0, 0, 4, 1, 0, 0], 150006: [-1, -1, 0, 0], 30038: [4, 3, 1, -1], 30021: [6, 3], 50021: [2, 3], 50842: [5, 1], 51903: [4, 3], 50038: [1, 3, 3, 0], 51877: [0, 6, 4, 2], 50094: [-1, 0], 100021: [4, 0], 100038: [-1, 0, -3, -2], 7210851: [-1, 5], 7210524: [-1, 0, 1, -1], 7210021: [3, 5], 7210038: [-2, 0, 1, 1], 280038: [1, -1, 5, 0], 280021: [-1, 0], 20038: [0, 2, 0, 0], 20021: [3, 0], 110021: [2, 3], 110521: [0, -2], 110559: [0, -2], 111877: [-2, 1], 110038: [0, 4, 1, 3], 170038: [0, 0, 2, -1], 170021: [2, 0], 40600: [1, 5], 40498: [1, -2], 40678: [-4, -2], 40038: [2, 1, 2, 3], 40021: [3, 2], 190038: [0, -2, 0, 4], 190021: [1, 0], 160038: [0, 1, 1, 0], 160021: [0, 1], 360021: [1, 1], 360038: [-2, 1], 10021: [2, 0], 10038: [0, 2, -1, 2], 180038: [2, 0, 1, 5], 180021: [4, 2], 150021: [3, -1], 150038: [1, 4, -1, 0], 50078: [4, 0], 55455: [1, 2], 50110: [3, 1], 7211897: [2, 1], 7210066: [-5, 1], 7210064: [-2, -2], 40110: [-2, 0], 40731: [2, 1], 40851: [3, 3], 120038: [1, 2], 180108: [0, -1], 180086: [0, -2], 181887: [6, 4], 180065: [-2, -2]}

count=0

for team in teamIDs:
    try:
        url = 'https://api.football-data.org/v4/teams/'+str(team)+'/matches?season=2020'
        headers = { 'X-Auth-Token': '87fb1eeae740487aa7587b667ef60da0' }

        response = requests.get(url, headers=headers)

        count=1
        for match in response.json()['matches']:
            homeTeam = match['homeTeam']['name']
            awayTeam = match['awayTeam']['name']
            homeTeam_ID= match['homeTeam']['id']
            awayTeam_ID = match['awayTeam']['id']
            result=match['score']['winner']
            homeScore=match['score']['fullTime']['home']
            awayScore=match['score']['fullTime']['away']
            if (homeTeam_ID==team):
                myTeam=homeTeam
                myTeam_ID=homeTeam_ID
                myEnemy=awayTeam
                myEnemy_ID=awayTeam_ID
            elif (awayTeam_ID==team):
                myTeam=awayTeam
                myTeam_ID=awayTeam_ID
                myEnemy=homeTeam
                myEnemy_ID=homeTeam_ID
            if(result=='DRAW'):
                goalDiff=0
            elif(result=='HOME_TEAM' and myTeam==homeTeam):
                goalDiff=abs(homeScore-awayScore)
            elif(result=='HOME_TEAM' and myTeam==awayTeam):
                goalDiff=(-1)*abs(homeScore-awayScore)
            elif(result=='AWAY_TEAM' and myTeam==awayTeam):
                goalDiff=abs(homeScore-awayScore)
            elif(result=='AWAY_TEAM' and myTeam==homeTeam):
                goalDiff=(-1)*abs(homeScore-awayScore)
            matchCode=myTeam_ID*10000+myEnemy_ID
            if matchCode not in matchRecs.keys():
                matchRecs[matchCode]=[goalDiff]
            else:
                matchRecs[matchCode].append(goalDiff)
            print("\n")
            print("My Team", myTeam)
            print("Contender",myEnemy)
            print("Goal Difference =",goalDiff)
            print(matchRecs)
            print("\n")
        count+=1
        if (count==2):
            time.sleep(10)
            count=0
            continue
            
    except Exception as e:
        print(f"Error: {e}")
        count+=1
        if (count==2):
            time.sleep(10)
            count=0
            continue